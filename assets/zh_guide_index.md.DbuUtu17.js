import{_ as l,o as n,c as i,ag as e}from"./chunks/framework.C95KxxkN.js";const u=JSON.parse('{"title":"什么是 ChunkFlow？","description":"","frontmatter":{},"headers":[],"relativePath":"zh/guide/index.md","filePath":"zh/guide/index.md","lastUpdated":1769763135000}'),s={name:"zh/guide/index.md"};function o(t,a,r,p,h,d){return n(),i("div",null,[...a[0]||(a[0]=[e(`<h1 id="什么是-chunkflow" tabindex="-1">什么是 ChunkFlow？ <a class="header-anchor" href="#什么是-chunkflow" aria-label="Permalink to &quot;什么是 ChunkFlow？&quot;">​</a></h1><p>ChunkFlow 是一个通用的大文件上传解决方案，提供完整的、生产就绪的 SDK 来处理任意大小的文件上传。它采用分层架构设计，使其高度灵活、高性能且易于集成到任何项目中。</p><h2 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h2><p>在 Web 上上传大文件具有挑战性：</p><ul><li><strong>网络不稳定</strong>：长时间上传可能因网络中断而失败</li><li><strong>内存限制</strong>：将整个文件加载到内存中可能导致浏览器崩溃</li><li><strong>用户体验差</strong>：用户无法看到上传进度或暂停/恢复</li><li><strong>重复上传</strong>：相同文件多次上传浪费带宽和存储空间</li><li><strong>性能问题</strong>：一刀切的方法无法适应不同的网络条件</li></ul><h2 id="解决方案" tabindex="-1">解决方案 <a class="header-anchor" href="#解决方案" aria-label="Permalink to &quot;解决方案&quot;">​</a></h2><p>ChunkFlow 通过一套全面的功能解决这些问题：</p><h3 id="🚀-智能上传策略" tabindex="-1">🚀 智能上传策略 <a class="header-anchor" href="#🚀-智能上传策略" aria-label="Permalink to &quot;🚀 智能上传策略&quot;">​</a></h3><p>根据文件大小自动选择最优上传策略：</p><ul><li>文件 &lt; 5MB：直传以提高速度</li><li>文件 ≥ 5MB：分片上传以提高可靠性</li></ul><h3 id="📦-动态分片" tabindex="-1">📦 动态分片 <a class="header-anchor" href="#📦-动态分片" aria-label="Permalink to &quot;📦 动态分片&quot;">​</a></h3><p>根据网络条件调整分片大小，类似 TCP 慢启动：</p><ul><li>快速网络 → 更大的分片（最大 10MB）</li><li>慢速网络 → 更小的分片（最小 256KB）</li><li>同时优化速度和可靠性</li></ul><h3 id="⚡-秒传-去重" tabindex="-1">⚡ 秒传（去重） <a class="header-anchor" href="#⚡-秒传-去重" aria-label="Permalink to &quot;⚡ 秒传（去重）&quot;">​</a></h3><p>基于 Hash 的去重实现秒传：</p><ul><li><strong>完全秒传</strong>：文件已存在 → 跳过整个上传</li><li><strong>部分秒传</strong>：部分分片存在 → 只上传缺失的分片</li><li>节省带宽和时间</li></ul><h3 id="🔄-断点续传" tabindex="-1">🔄 断点续传 <a class="header-anchor" href="#🔄-断点续传" aria-label="Permalink to &quot;🔄 断点续传&quot;">​</a></h3><p>从中断处继续：</p><ul><li>进度持久化到 IndexedDB</li><li>页面重新加载时自动恢复</li><li>手动暂停/恢复控制</li></ul><h3 id="🎯-框架无关" tabindex="-1">🎯 框架无关 <a class="header-anchor" href="#🎯-框架无关" aria-label="Permalink to &quot;🎯 框架无关&quot;">​</a></h3><p>适用于任何框架或原生 JavaScript：</p><ul><li>React Hooks 和组件</li><li>Vue Composables 和组件</li><li>框架无关的核心层</li></ul><h3 id="🛠️-高度可扩展" tabindex="-1">🛠️ 高度可扩展 <a class="header-anchor" href="#🛠️-高度可扩展" aria-label="Permalink to &quot;🛠️ 高度可扩展&quot;">​</a></h3><p>用于自定义功能的插件系统：</p><ul><li>日志记录</li><li>分析</li><li>自定义验证</li><li>进度跟踪</li><li>更多...</li></ul><h2 id="架构" tabindex="-1">架构 <a class="header-anchor" href="#架构" aria-label="Permalink to &quot;架构&quot;">​</a></h2><p>ChunkFlow 使用分层架构，每一层都有特定的职责：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────────────────────────┐</span></span>
<span class="line"><span>│     组件层                          │  开箱即用的 UI 组件</span></span>
<span class="line"><span>│  (React/Vue 组件)                   │</span></span>
<span class="line"><span>├─────────────────────────────────────┤</span></span>
<span class="line"><span>│     客户端层                        │  框架适配器</span></span>
<span class="line"><span>│  (React Hooks / Vue Composables)   │</span></span>
<span class="line"><span>├─────────────────────────────────────┤</span></span>
<span class="line"><span>│     核心层                          │  上传逻辑和状态机</span></span>
<span class="line"><span>│  (UploadManager, UploadTask)       │</span></span>
<span class="line"><span>├─────────────────────────────────────┤</span></span>
<span class="line"><span>│     共享层                          │  通用工具</span></span>
<span class="line"><span>│  (事件、并发、文件工具)             │</span></span>
<span class="line"><span>├─────────────────────────────────────┤</span></span>
<span class="line"><span>│     协议层                          │  类型定义和接口</span></span>
<span class="line"><span>│  (TypeScript 类型)                 │</span></span>
<span class="line"><span>└─────────────────────────────────────┘</span></span></code></pre></div><p>每一层都是独立的，可以单独使用，为你提供最大的灵活性。</p><h2 id="主要特性" tabindex="-1">主要特性 <a class="header-anchor" href="#主要特性" aria-label="Permalink to &quot;主要特性&quot;">​</a></h2><h3 id="并行-hash-计算" tabindex="-1">并行 Hash 计算 <a class="header-anchor" href="#并行-hash-计算" aria-label="Permalink to &quot;并行 Hash 计算&quot;">​</a></h3><p>Hash 计算和上传同时进行：</p><ul><li>不等待 hash 完成就开始上传</li><li>如果文件已存在则取消正在进行的上传</li><li>优先上传前几个分片以快速获得反馈</li></ul><h3 id="并发控制" tabindex="-1">并发控制 <a class="header-anchor" href="#并发控制" aria-label="Permalink to &quot;并发控制&quot;">​</a></h3><p>智能管理并行上传：</p><ul><li>可配置的并发分片上传（默认：3）</li><li>队列管理以优化资源使用</li><li>基于性能的动态调整</li></ul><h3 id="错误处理和重试" tabindex="-1">错误处理和重试 <a class="header-anchor" href="#错误处理和重试" aria-label="Permalink to &quot;错误处理和重试&quot;">​</a></h3><p>强大的错误处理和自动重试：</p><ul><li>指数退避策略</li><li>可配置的重试次数和延迟</li><li>功能不可用时优雅降级</li></ul><h3 id="进度跟踪" tabindex="-1">进度跟踪 <a class="header-anchor" href="#进度跟踪" aria-label="Permalink to &quot;进度跟踪&quot;">​</a></h3><p>实时进度信息：</p><ul><li>上传百分比</li><li>上传速度（字节/秒）</li><li>预计剩余时间</li><li>每个分片的进度</li></ul><h3 id="生命周期事件" tabindex="-1">生命周期事件 <a class="header-anchor" href="#生命周期事件" aria-label="Permalink to &quot;生命周期事件&quot;">​</a></h3><p>用于自定义逻辑的完整事件系统：</p><ul><li><code>onStart</code>：上传开始</li><li><code>onProgress</code>：进度更新</li><li><code>onSuccess</code>：上传完成</li><li><code>onError</code>：发生错误</li><li><code>onPause</code>：上传暂停</li><li><code>onResume</code>：上传恢复</li><li><code>onCancel</code>：上传取消</li></ul><h2 id="使用场景" tabindex="-1">使用场景 <a class="header-anchor" href="#使用场景" aria-label="Permalink to &quot;使用场景&quot;">​</a></h2><p>ChunkFlow 非常适合：</p><ul><li><strong>媒体平台</strong>：视频和图片上传平台</li><li><strong>云存储</strong>：文件存储和备份服务</li><li><strong>内容管理</strong>：支持大文件的 CMS</li><li><strong>在线教育</strong>：课程资料和视频上传</li><li><strong>企业应用</strong>：文档管理系统</li><li><strong>任何应用</strong>：需要可靠的大文件上传</li></ul><h2 id="下一步" tabindex="-1">下一步 <a class="header-anchor" href="#下一步" aria-label="Permalink to &quot;下一步&quot;">​</a></h2><p>准备开始了吗？查看<a href="/chunkflow/zh/guide/getting-started">快速开始</a>指南，开始在你的项目中使用 ChunkFlow。</p>`,50)])])}const b=l(s,[["render",o]]);export{u as __pageData,b as default};
